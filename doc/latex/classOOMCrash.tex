\hypertarget{classOOMCrash}{}\doxysection{OOMCrash Class Reference}
\label{classOOMCrash}\index{OOMCrash@{OOMCrash}}


\mbox{\hyperlink{classDobby}{Dobby}} RDK \mbox{\hyperlink{classOOMCrash}{OOMCrash}} Plugin.  




{\ttfamily \#include $<$OOMCrash\+Plugin.\+h$>$}



Inheritance diagram for OOMCrash\+:
% FIG 0


Collaboration diagram for OOMCrash\+:
% FIG 1
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classOOMCrash_a288ca779b8e343e21558553db04537c2}{OOMCrash}} (std\+::shared\+\_\+ptr$<$ rt\+\_\+dobby\+\_\+schema $>$ \&container\+Config, const std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classDobbyRdkPluginUtils}{Dobby\+Rdk\+Plugin\+Utils}} $>$ \&utils, const std\+::string \&rootfs\+Path)
\begin{DoxyCompactList}\small\item\em Constructor -\/ called when plugin is loaded by Plugin\+Launcher. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classOOMCrash_ac770849f40567af64c2f5a7fcadb5430}{name}} () const override
\begin{DoxyCompactList}\small\item\em Should return the name of the plugin. \end{DoxyCompactList}\item 
unsigned \mbox{\hyperlink{classOOMCrash_ade28ecac85c4744ee07768573b19abb9}{hook\+Hints}} () const override
\begin{DoxyCompactList}\small\item\em Set the bit flags for which hooks we\textquotesingle{}re going to use. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classOOMCrash_ac50820c3cd26ffad8edceae84d5bba1d}{post\+Installation}} () override
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classDobby}{Dobby}} Hook -\/ run in host namespace {\itshape once} when container bundle is downloaded. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classOOMCrash_affce32147e1165c23f1eeabc031a95f5}\label{classOOMCrash_affce32147e1165c23f1eeabc031a95f5}} 
bool \mbox{\hyperlink{classOOMCrash_affce32147e1165c23f1eeabc031a95f5}{post\+Halt}} () override
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classDobby}{Dobby}} Hook -\/ Run in host namespace when container terminates. \end{DoxyCompactList}\item 
std\+::vector$<$ std\+::string $>$ \mbox{\hyperlink{classOOMCrash_abdf30a95a56025c4014d7f6b7581e6ca}{get\+Dependencies}} () const override
\begin{DoxyCompactList}\small\item\em Should return the names of the plugins this plugin depends on. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{classOOMCrash_a45291ac0d9a64b6abada6731a97988ad}{read\+Cgroup}} (unsigned long $\ast$val)
\begin{DoxyCompactList}\small\item\em Read cgroup file. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classOOMCrash_a6c2167ce041219b46feaa96316619920}{check\+For\+OOM}} ()
\begin{DoxyCompactList}\small\item\em Check for Out of Memory by reading cgroup file. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classOOMCrash_ae77f19fa6ddf2c7aac29ee1469254160}\label{classOOMCrash_ae77f19fa6ddf2c7aac29ee1469254160}} 
void \mbox{\hyperlink{classOOMCrash_ae77f19fa6ddf2c7aac29ee1469254160}{create\+File\+For\+OOM}} ()
\begin{DoxyCompactList}\small\item\em Create OOM crash file named oom\+\_\+crashed\+\_\+$<$container\+\_\+name$>$.\+txt on the configured path. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classOOMCrash_a07ac8d09296db7436168657ea9ef10e9}\label{classOOMCrash_a07ac8d09296db7436168657ea9ef10e9}} 
const std\+::string {\bfseries m\+Name}
\item 
\mbox{\Hypertarget{classOOMCrash_a3bdbb7dcb0b4737f109f3a089509e273}\label{classOOMCrash_a3bdbb7dcb0b4737f109f3a089509e273}} 
std\+::shared\+\_\+ptr$<$ rt\+\_\+dobby\+\_\+schema $>$ {\bfseries m\+Container\+Config}
\item 
\mbox{\Hypertarget{classOOMCrash_ac1d18e177ed93361bb5131d72103e764}\label{classOOMCrash_ac1d18e177ed93361bb5131d72103e764}} 
const std\+::string {\bfseries m\+Rootfs\+Path}
\item 
\mbox{\Hypertarget{classOOMCrash_a56a8430ebaa1230be26e0cff420d0e58}\label{classOOMCrash_a56a8430ebaa1230be26e0cff420d0e58}} 
const std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classDobbyRdkPluginUtils}{Dobby\+Rdk\+Plugin\+Utils}} $>$ {\bfseries m\+Utils}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
\mbox{\hyperlink{classDobby}{Dobby}} RDK \mbox{\hyperlink{classOOMCrash}{OOMCrash}} Plugin. 

Creates a file when OOM detected 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classOOMCrash_a288ca779b8e343e21558553db04537c2}\label{classOOMCrash_a288ca779b8e343e21558553db04537c2}} 
\index{OOMCrash@{OOMCrash}!OOMCrash@{OOMCrash}}
\index{OOMCrash@{OOMCrash}!OOMCrash@{OOMCrash}}
\doxysubsubsection{\texorpdfstring{OOMCrash()}{OOMCrash()}}
{\footnotesize\ttfamily OOMCrash\+::\+OOMCrash (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ rt\+\_\+dobby\+\_\+schema $>$ \&}]{container\+Config,  }\item[{const std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classDobbyRdkPluginUtils}{Dobby\+Rdk\+Plugin\+Utils}} $>$ \&}]{utils,  }\item[{const std\+::string \&}]{rootfs\+Path }\end{DoxyParamCaption})}



Constructor -\/ called when plugin is loaded by Plugin\+Launcher. 

Do not change the parameters for this constructor -\/ must match C methods created by REGISTER\+\_\+\+RDK\+\_\+\+PLUGIN macro

Note plugin name is not case sensitive 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classOOMCrash_a6c2167ce041219b46feaa96316619920}\label{classOOMCrash_a6c2167ce041219b46feaa96316619920}} 
\index{OOMCrash@{OOMCrash}!checkForOOM@{checkForOOM}}
\index{checkForOOM@{checkForOOM}!OOMCrash@{OOMCrash}}
\doxysubsubsection{\texorpdfstring{checkForOOM()}{checkForOOM()}}
{\footnotesize\ttfamily bool OOMCrash\+::check\+For\+OOM (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Check for Out of Memory by reading cgroup file. 

\begin{DoxyReturn}{Returns}
true if OOM detected. 
\end{DoxyReturn}
\mbox{\Hypertarget{classOOMCrash_abdf30a95a56025c4014d7f6b7581e6ca}\label{classOOMCrash_abdf30a95a56025c4014d7f6b7581e6ca}} 
\index{OOMCrash@{OOMCrash}!getDependencies@{getDependencies}}
\index{getDependencies@{getDependencies}!OOMCrash@{OOMCrash}}
\doxysubsubsection{\texorpdfstring{getDependencies()}{getDependencies()}}
{\footnotesize\ttfamily std\+::vector$<$ std\+::string $>$ OOMCrash\+::get\+Dependencies (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Should return the names of the plugins this plugin depends on. 

This can be used to determine the order in which the plugins should be processed when running hooks.

\begin{DoxyReturn}{Returns}
Names of the plugins this plugin depends on. 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classRdkPluginBase_a64a84c7c36adb8873c4da766f4ec18a1}{Rdk\+Plugin\+Base}}.

\mbox{\Hypertarget{classOOMCrash_ade28ecac85c4744ee07768573b19abb9}\label{classOOMCrash_ade28ecac85c4744ee07768573b19abb9}} 
\index{OOMCrash@{OOMCrash}!hookHints@{hookHints}}
\index{hookHints@{hookHints}!OOMCrash@{OOMCrash}}
\doxysubsubsection{\texorpdfstring{hookHints()}{hookHints()}}
{\footnotesize\ttfamily unsigned OOMCrash\+::hook\+Hints (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Set the bit flags for which hooks we\textquotesingle{}re going to use. 

This plugin uses the post\+Installation and post\+Halt hooks, so set those flags 

Implements \mbox{\hyperlink{classIDobbyRdkPlugin_aff3382d4f6fcb0e517b1c5e39efc7a59}{IDobby\+Rdk\+Plugin}}.

\mbox{\Hypertarget{classOOMCrash_ac770849f40567af64c2f5a7fcadb5430}\label{classOOMCrash_ac770849f40567af64c2f5a7fcadb5430}} 
\index{OOMCrash@{OOMCrash}!name@{name}}
\index{name@{name}!OOMCrash@{OOMCrash}}
\doxysubsubsection{\texorpdfstring{name()}{name()}}
{\footnotesize\ttfamily std\+::string OOMCrash\+::name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Should return the name of the plugin. 

\begin{DoxyReturn}{Returns}
string with the name of the hook. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classIDobbyRdkPlugin_a9c41f1227b331ccec63e7a3c11534e83}{IDobby\+Rdk\+Plugin}}.

\mbox{\Hypertarget{classOOMCrash_ac50820c3cd26ffad8edceae84d5bba1d}\label{classOOMCrash_ac50820c3cd26ffad8edceae84d5bba1d}} 
\index{OOMCrash@{OOMCrash}!postInstallation@{postInstallation}}
\index{postInstallation@{postInstallation}!OOMCrash@{OOMCrash}}
\doxysubsubsection{\texorpdfstring{postInstallation()}{postInstallation()}}
{\footnotesize\ttfamily bool OOMCrash\+::post\+Installation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



\mbox{\hyperlink{classDobby}{Dobby}} Hook -\/ run in host namespace {\itshape once} when container bundle is downloaded. 


\begin{DoxyItemize}
\item 
\end{DoxyItemize}

Reimplemented from \mbox{\hyperlink{classRdkPluginBase_afb8522eece4b1948ea815d12a1fdd08b}{Rdk\+Plugin\+Base}}.

\mbox{\Hypertarget{classOOMCrash_a45291ac0d9a64b6abada6731a97988ad}\label{classOOMCrash_a45291ac0d9a64b6abada6731a97988ad}} 
\index{OOMCrash@{OOMCrash}!readCgroup@{readCgroup}}
\index{readCgroup@{readCgroup}!OOMCrash@{OOMCrash}}
\doxysubsubsection{\texorpdfstring{readCgroup()}{readCgroup()}}
{\footnotesize\ttfamily bool OOMCrash\+::read\+Cgroup (\begin{DoxyParamCaption}\item[{unsigned long $\ast$}]{val }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Read cgroup file. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em val} & gives the number of times that the cgroup limit was exceeded.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true on successfully reading from the file. 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
rdk\+Plugins/\+OOMCrash/source/OOMCrash\+Plugin.\+h\item 
rdk\+Plugins/\+OOMCrash/source/OOMCrash\+Plugin.\+cpp\end{DoxyCompactItemize}
